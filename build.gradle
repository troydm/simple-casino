subprojects {
    apply plugin: 'scala'

    dependencies {
        compile group: 'org.scala-lang', name: 'scala-library', version: '2.12.4'
        compile group: 'com.typesafe.akka', name: 'akka-http_2.12',   version: '10.1.0'
        compile group: 'com.typesafe.akka', name: 'akka-stream_2.12', version: '2.5.11'
        compile group: 'com.typesafe.akka', name: 'akka-http-spray-json_2.12', version: '10.1.0'
        testCompile group: 'junit', name: 'junit', version: '4.12'
        testCompile group: 'org.scalatest', name: 'scalatest_2.12', version: '3.0.5'
        testCompile group: 'org.easymock', name: 'easymock', version: '3.5.1'
        testCompile group: 'com.typesafe.akka', name: 'akka-http-testkit_2.12', version: '10.0.11'
    }

    repositories {
        mavenCentral()
    }

    task copyLibs(type: Copy) {
        into 'deployment/lib'
        from configurations.runtime
    }

    task copyJar(type: Copy) {
        from jar 
        into 'deployment'
    }

    build.dependsOn copyJar
}
